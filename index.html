<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KJFM</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="header">
        <nav class="nav">
            <div class="logo">
                <img src="./kj-fm-logo.png" alt="KJFM" class="logo-img">
            </div>
            <ul class="nav-links">
                <li><a href="#services">Services</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
            <a href="#contact" class="cta-button">Get Quote</a>
        </nav>
    </header>

    <main>
        <section class="hero">
            <div class="floating-shapes">
                <div class="shape"></div>
                <div class="shape"></div>
                <div class="shape"></div>
            </div>
            <div class="hero-content">
                <h1>Expert Facility Management</h1>
                <p>Transform your workplace with comprehensive facility solutions that optimize operations, reduce costs, and enhance productivity.</p>
                <div class="hero-buttons">
                    <a href="#services" class="btn-primary">Our Services</a>
                    <a href="#contact" class="btn-secondary">Schedule Consultation</a>
                </div>
            </div>
        </section>

        <section id="services" class="services">
            <h2 class="section-title">Comprehensive Solutions</h2>
            <div class="services-grid">
                <div class="service-card">
                    <div class="service-icon">üè¢</div>
                    <h3>Property Management</h3>
                    <p>Complete building maintenance, space optimization, and property oversight to ensure your facilities operate at peak efficiency.</p>
                </div>
                <div class="service-card">
                    <div class="service-icon">üîß</div>
                    <h3>Maintenance Services</h3>
                    <p>Preventive and reactive maintenance programs that minimize downtime and extend the life of your critical systems.</p>
                </div>
                <div class="service-card">
                    <div class="service-icon">üå±</div>
                    <h3>Sustainability Solutions</h3>
                    <p>Energy management and green initiatives that reduce environmental impact while lowering operational costs.</p>
                </div>
                <div class="service-card">
                    <div class="service-icon">üîê</div>
                    <h3>Security & Safety</h3>
                    <p>Comprehensive security protocols and safety compliance to protect your people, assets, and operations.</p>
                </div>
                <div class="service-card">
                    <div class="service-icon">üßπ</div>
                    <h3>Cleaning Services</h3>
                    <p>Professional cleaning and hygiene solutions that maintain pristine environments for employees and visitors.</p>
                </div>
                <div class="service-card">
                    <div class="service-icon">üìä</div>
                    <h3>Data & Analytics</h3>
                    <p>Smart facility insights and performance analytics to optimize operations and inform strategic decisions.</p>
                </div>
            </div>
        </section>

        <section id="about" class="about">
            <div class="about-content">
                <div class="about-text">
                    <h2>Excellence in Every Detail</h2>
                    <p>With over a decade of experience in facility management, we understand that every building is unique. Our team of certified professionals delivers tailored solutions that align with your business objectives.</p>
                    <p>From corporate offices to industrial complexes, we manage facilities of all sizes with the same commitment to quality, efficiency, and innovation. Our integrated approach ensures seamless operations while you focus on your core business.</p>
                    <div class="stats">
                        <div class="stat">
                            <span class="stat-number">500+</span>
                            <div class="stat-label">Projects Completed</div>
                        </div>
                        <div class="stat">
                            <span class="stat-number">50M+</span>
                            <div class="stat-label">Sq Ft Managed</div>
                        </div>
                        <div class="stat">
                            <span class="stat-number">99%</span>
                            <div class="stat-label">Client Satisfaction</div>
                        </div>
                        <div class="stat">
                            <span class="stat-number">24/7</span>
                            <div class="stat-label">Support Available</div>
                        </div>
                    </div>
                </div>
                <div class="about-visual">
                    <div style="background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%); height: 400px; border-radius: 20px; border: 1px solid rgba(255, 255, 255, 0.1); display: flex; align-items: center; justify-content: center; font-size: 4rem;">
                        üèóÔ∏è
                    </div>
                </div>
            </div>
        </section>

        <section id="contact" class="contact">
            <h2 class="section-title">Ready to Transform Your Facility?</h2>
            <p style="font-size: 1.2rem; opacity: 0.9; max-width: 600px; margin: 0 auto;">Get in touch with our experts to discuss your facility management needs and discover how we can optimize your operations.</p>
            
            <form class="contact-form">
                <div class="form-row">
                    <input type="text" name="firstName" placeholder="First Name" required>
                    <input type="text" name="lastName" placeholder="Last Name" required>
                </div>
                <div class="form-row">
                    <input type="email" name="email" placeholder="Email Address" required>
                    <input type="tel" name="phone" placeholder="Phone Number">
                </div>
                <input type="text" name="company" placeholder="Company Name">
                <select name="service" style="background: rgba(255, 255, 255, 0.9); border: 1px solid rgba(44, 62, 80, 0.2); border-radius: 10px; padding: 1rem 1.5rem; color: #2c3e50; font-size: 1rem;">
                    <option value="">Service Interest</option>
                    <option value="Property Management">Property Management</option>
                    <option value="Maintenance Services">Maintenance Services</option>
                    <option value="Sustainability Solutions">Sustainability Solutions</option>
                    <option value="Security & Safety">Security & Safety</option>
                    <option value="Cleaning Services">Cleaning Services</option>
                    <option value="Data & Analytics">Data & Analytics</option>
                </select>
                <textarea name="message" placeholder="Tell us about your facility management needs..."></textarea>
                <button type="submit" class="submit-btn">Send Message</button>
            </form>
        </section>
    </main>

    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h3>KJFM</h3>
                <p>Transforming workplaces through expert facility management solutions. Your success is our mission.</p>
            </div>
            <div class="footer-section">
                <h3>Services</h3>
                <p><a href="#">Property Management</a></p>
                <p><a href="#">Maintenance Services</a></p>
                <p><a href="#">Sustainability Solutions</a></p>
                <p><a href="#">Security & Safety</a></p>
            </div>
            <div class="footer-section">
                <h3>Contact Info</h3>
                <p>üìû Anjan BC +91 9663038067</p>
                <p>üìû Vanitha A +91 9972006965</p>
                <p>üìß info@kjfm.in</p>
                <p>üìç 801, 2nd C Main Rd, HRBR Layout 1st Block, Balaji Layout, OMBR Layout, Kalyan Nagar, Bengaluru, Karnataka 560043</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 KJFM. All rights reserved. | Designed for excellence.</p>
        </div>
    </footer>

    <script>
        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Header scroll effect
        window.addEventListener('scroll', () => {
            const header = document.querySelector('.header');
            if (window.scrollY > 100) {
                header.style.background = 'rgba(255, 255, 255, 0.98)';
                header.style.boxShadow = '0 4px 30px rgba(0, 0, 0, 0.15)';
            } else {
                header.style.background = 'rgba(255, 255, 255, 0.95)';
                header.style.boxShadow = '0 2px 20px rgba(0, 0, 0, 0.1)';
            }
        });

        // Form submission with Teams notification
        document.querySelector('.contact-form').addEventListener('submit', function(e) {
            e.preventDefault();
            const btn = this.querySelector('.submit-btn');
            const originalText = btn.textContent;
            
            // Get form data
            const firstName = this.querySelector('input[name="firstName"]').value;
            const lastName = this.querySelector('input[name="lastName"]').value;
            const email = this.querySelector('input[name="email"]').value;
            const phone = this.querySelector('input[name="phone"]').value;
            const company = this.querySelector('input[name="company"]').value;
            const service = this.querySelector('select[name="service"]').value;
            const message = this.querySelector('textarea[name="message"]').value;
            
            btn.textContent = 'Sending...';
            btn.style.background = 'linear-gradient(135deg, #f39c12 0%, #e67e22 100%)';
            
            // Check if webhook URL is configured
            const webhookUrl = 'https://kusmithajeevanfm.webhook.office.com/webhookb2/98170426-cf61-4ae7-a00f-67c1e90ac3f3@3e068628-6f91-4f13-818b-d1a007945ae0/IncomingWebhook/4c4cd83b5a764e009c48db5d3d51f1bf/d5509469-b0bb-4c47-a992-77cdb861d229/V2WWOQFgpeB6iMYTKp0uijfmWGxTYf-noUBXnVGm72o3k1';
            
            if (webhookUrl.includes('YOUR_WEBHOOK_ID_HERE')) {
                // Show test mode message
                console.log('Form Data to be sent to Teams:', {
                    firstName, lastName, email, phone, company, service, message
                });
                
                alert('‚ö†Ô∏è Test Mode: Webhook URL not configured yet!\n\nForm data logged to console. Replace YOUR_WEBHOOK_ID_HERE with your actual Teams webhook URL.');
                
                btn.textContent = 'Configure Webhook First';
                btn.style.background = 'linear-gradient(135deg, #f39c12 0%, #e67e22 100%)';
                setTimeout(() => {
                    btn.textContent = originalText;
                    btn.style.background = 'linear-gradient(135deg, #e67e22 0%, #d35400 100%)';
                }, 3000);
                return;
            }
            
            // Send to Teams webhook
            sendToTeams({
                firstName,
                lastName,
                email,
                phone,
                company,
                service,
                message
            }).then(() => {
                btn.textContent = 'Message Sent to Teams!';
                btn.style.background = 'linear-gradient(135deg, #27ae60 0%, #2ecc71 100%)';
                setTimeout(() => {
                    btn.textContent = originalText;
                    btn.style.background = 'linear-gradient(135deg, #e67e22 0%, #d35400 100%)';
                    this.reset();
                }, 3000);
            }).catch((error) => {
                console.error('Error sending to Teams:', error);
                
                // Show more helpful error message
                let errorMsg = 'Error - Try Again';
                if (error.message.includes('CORS')) {
                    errorMsg = 'CORS Error - Check Console';
                } else if (error.message.includes('fetch')) {
                    errorMsg = 'Network Error';
                } else if (error.message.includes('404')) {
                    errorMsg = 'Webhook Not Found';
                }
                
                btn.textContent = errorMsg;
                btn.style.background = 'linear-gradient(135deg, #e74c3c 0%, #c0392b 100%)';
                setTimeout(() => {
                    btn.textContent = originalText;
                    btn.style.background = 'linear-gradient(135deg, #e67e22 0%, #d35400 100%)';
                }, 4000);
            });
        });

        // Function to send message to Teams
        async function sendToTeams(formData) {
            // REPLACE THIS URL WITH YOUR ACTUAL TEAMS WEBHOOK URL
            const webhookUrl = 'https://kusmithajeevanfm.webhook.office.com/webhookb2/98170426-cf61-4ae7-a00f-67c1e90ac3f3@3e068628-6f91-4f13-818b-d1a007945ae0/IncomingWebhook/4c4cd83b5a764e009c48db5d3d51f1bf/d5509469-b0bb-4c47-a992-77cdb861d229/V2WWOQFgpeB6iMYTKp0uijfmWGxTYf-noUBXnVGm72o3k1'; 
            
            const teamsMessage = {
                "@type": "MessageCard",
                "@context": "http://schema.org/extensions",
                "themeColor": "e67e22",
                "summary": "New Facility Management Inquiry",
                "sections": [{
                    "activityTitle": "üè¢ New Contact Form Submission",
                    "activitySubtitle": "KJFM Facility Management",
                    "facts": [
                        {
                            "name": "Name",
                            "value": `${formData.firstName} ${formData.lastName}`
                        },
                        {
                            "name": "Email",
                            "value": formData.email
                        },
                        {
                            "name": "Phone",
                            "value": formData.phone || 'Not provided'
                        },
                        {
                            "name": "Company",
                            "value": formData.company || 'Not provided'
                        },
                        {
                            "name": "Service Interest",
                            "value": formData.service || 'Not specified'
                        },
                        {
                            "name": "Message",
                            "value": formData.message || 'No message provided'
                        },
                        {
                            "name": "Submitted",
                            "value": new Date().toLocaleString()
                        }
                    ],
                    "markdown": true
                }],
                "potentialAction": [{
                    "@type": "OpenUri",
                    "name": "Reply via Email",
                    "targets": [{
                        "os": "default",
                        "uri": `mailto:${formData.email}?subject=Re: Facility Management Inquiry`
                    }]
                }]
            };

            try {
                console.log('Sending to Teams webhook:', webhookUrl);
                console.log('Message payload:', teamsMessage);
                
                const response = await fetch(webhookUrl, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(teamsMessage),
                    mode: 'no-cors' // This helps with CORS issues but limits response access
                });

                // With no-cors mode, we can't check response status
                // So we'll assume success if no error is thrown
                console.log('Teams webhook request sent');
                return true;

            } catch (error) {
                console.error('Detailed error:', error);
                throw error;
            }
        }

        // Animate service cards on scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        // Initially hide service cards
        document.querySelectorAll('.service-card').forEach(card => {
            card.style.opacity = '0';
            card.style.transform = 'translateY(50px)';
            card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
            observer.observe(card);
        });
    </script>
</body>
</html>